<%- include ('../partials/header') %>
<%- include ('../partials/menu') %>
<%- include ('../partials/message', {message: locals.message, error: locals.error}) %>

<main>
    <% for (let i = 0; i < data.length; i++) { %>
        <h3><%= data[i].question.text %></h3>
        <ul>
            <li><button class="answer-btn"><%= data[i].correctAnswer %></button></li>
            <li><button class="answer-btn"><%= data[i].incorrectAnswers[0] %></button></li>
            <li><button class="answer-btn"><%= data[i].incorrectAnswers[1] %></button></li>
            <li><button class="answer-btn"><%= data[i].incorrectAnswers[2] %></button></li>
      <% } %>
      data

</main>

<!-- <main>
  <script>console.log(data);</script>
    <h3 id="question-text"></h3>
    <ul id="answer-options">
      <li><button class="answer-btn"></button></li>
      <li><button class="answer-btn"></button></li>
      <li><button class="answer-btn"></button></li>
      <li><button class="answer-btn"></button></li>
    </ul>
    <p id="score">Score: 0</p>
    <button id="next-btn">Next Question</button>
  </main>

  <script>
    // conssole.log(data);
    let score = 0;
    let currentQuestionIndex = 0;

    const questionText = document.getElementById('question-text');
    const answerOptions = document.getElementById('answer-options');
    const answerButtons = answerOptions.getElementsByClassName('answer-btn');
    const scoreText = document.getElementById('score');
    const nextButton = document.getElementById('next-btn');

    function showQuestion() {
      const currentQuestion = data[currentQuestionIndex];
      questionText.textContent = currentQuestion.question.text;
      answerButtons[0].textContent = currentQuestion.correctAnswer;
      answerButtons[1].textContent = currentQuestion.incorrectAnswers[0];
      answerButtons[2].textContent = currentQuestion.incorrectAnswers[1];
      answerButtons[3].textContent = currentQuestion.incorrectAnswers[2];
    }

    function checkAnswer(event) {
      const selectedAnswer = event.target.textContent;
      const currentQuestion = questions[currentQuestionIndex];

      if (selectedAnswer === currentQuestion.correctAnswer) {
        score++;
        scoreText.textContent = `Score: ${score}`;
      }

      currentQuestionIndex++;
      if (currentQuestionIndex < questions.length) {
        showQuestion();
      } else {
        // quiz is over
      }
    }

    for (let i = 0; i < answerButtons.length; i++) {
      answerButtons[i].addEventListener('click', checkAnswer);
    }

    nextButton.addEventListener('click', showQuestion);

    showQuestion(); 
    </script> -->
  


<%- include ('../partials/footer') %>